<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>[풀무원] 탱탱쫄면 (4개입) - 마켓컬리</title>
    <link rel="icon" type="image/x-icon" href="/kurly.png" />
    <link rel="stylesheet" href="/src/styles/style.css" />
    <link rel="stylesheet" href="/src/styles/reset.css" />
    <link rel="stylesheet" href="/src/styles/base.css" />
    <script
      type="module"
      src="/src/pages/productDetail/product-Detail.js"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <!-- <script type="module" src="main.js"></script> -->
    <link rel="stylesheet" href="/src/pages/productDetail/style.css" />
  </head>
  <body>
    <top-banner></top-banner>
    <c-header></c-header>
    <div class="gradient-border"></div>
    <div class="container">
      <div class="left">
        <img src="/src/assets/images/product-detail.svg" alt="상품 이미지" />
      </div>

      <div class="right">
        <div class="product-detail">
          <img src="/src/assets/images/top-text.svg" alt="상품 설명 상단" />
          <img src="/src/assets/images/middle-text.svg" alt="상품 설명 중간" />
        </div>

        <div class="product-detail-count-box">
          <div class="product-selection-row">
            <span>상품선택</span>
            <div class="product-selection">
              <span class="product-name">[풀무원] 탱탱쫄면 (4개입)</span>
              <div class="quantity-price-row">
                <div class="quantity-control">
                  <product-count data-initial-value="1"></product-count>
                </div>
                <span class="price" id="price">4,980원</span>
              </div>
            </div>
          </div>
          <div class="total-price-container">
            <div class="total-price">
              <img src="/src/assets/images/totalprice.svg" alt="총 상품금액" />
              <span id="total-price">4,980</span>
              <img src="/src/assets/images/won.svg" alt="원" />
            </div>
          </div>
        </div>

        <script>
          document.addEventListener('DOMContentLoaded', function () {
            const pricePerItem = 4980;
            const quantityInput = document.getElementById('quantity');
            const totalPriceSpan = document.getElementById('total-price');

            function updateTotalPrice() {
              const quantity = parseInt(quantityInput.value);
              const totalPrice = pricePerItem * quantity;
              totalPriceSpan.textContent = `${totalPrice.toLocaleString()}`;
            }

            document
              .getElementById('decrease')
              .addEventListener('click', function () {
                let quantity = parseInt(quantityInput.value);
                if (quantity > 1) {
                  quantityInput.value = quantity - 1;
                  updateTotalPrice();
                }
              });

            document
              .getElementById('increase')
              .addEventListener('click', function () {
                let quantity = parseInt(quantityInput.value);
                quantityInput.value = quantity + 1;
                updateTotalPrice();
              });

            quantityInput.addEventListener('input', function () {
              if (quantityInput.value < 1) {
                quantityInput.value = 1;
              }
              updateTotalPrice();
            });

            updateTotalPrice();
          });
        </script>

        <div class="heart-incart">
          <heart-icon></heart-icon>
          <img src="/src/assets/images/bell.svg" alt="알림" />
          <img src="/src/assets/images/incart.svg" alt="장바구니 담기" />
        </div>
      </div>
    </div>

    <div class="button-box">
      <button id="productDescBtn" class="usetab-button">상품설명</button>
      <button id="detailInfoBtn" class="tab-button">상세정보</button>
      <button id="reviewBtn" class="tab-button">후기</button>
      <button id="inquiryBtn" class="tab-button">문의</button>
    </div>

    <div class="product-description">
      <img
        src="/src/assets/images/product-description-top.svg"
        alt="상품 상세설명 상단"
      />
      <img
        src="/src/assets/images/product-description-middle.svg"
        alt="상품 상세설명 중단"
      />
    </div>

    <div class="product-review">
      <img src="/src/assets/images/product-reviews.svg" alt="상품후기" />
      <img
        src="/src/assets/images/review-button.svg"
        alt="리뷰버튼"
        onclick="openReviewPopup();"
        style="cursor: pointer"
      />
      <script>
        function openReviewPopup() {
          const popup = window.open(
            '/src/pages/productDetail/review.html',
            'reviewPopup',
            'width=800,height=700'
          );
          popup.focus();
        }
      </script>
    </div>
    <div class="review-board">
      <div class="notice-container">
        <button class="notice">
          <img src="/src/assets/images/notice1.svg" alt="Notice 1" />
        </button>
        <div class="panel">
          <img
            src="/src/assets/images/notice-detail1.svg"
            alt="Notice Detail 1"
          />
        </div>
        <script>
          document.addEventListener('DOMContentLoaded', function () {
            var acc = document.getElementsByClassName('notice');
            var i;

            for (i = 0; i < acc.length; i++) {
              acc[i].addEventListener('click', function () {
                this.classList.toggle('active');
                var panel = this.nextElementSibling;
                if (panel.style.display === 'block') {
                  panel.style.display = 'none';
                } else {
                  panel.style.display = 'block';
                }
              });
            }
          });
        </script>
      </div>
    </div>
    <div class="product-review-detail">
      <img src="/src/assets/images/noreview.svg" alt="상품후기 리스트" />
      <img
        src="/src/assets/images/review-pagenation.svg"
        alt="상품후기 페이지버튼"
        class="clickable"
      />
    </div>
    <div class="product-inquiry">
      <img src="/src/assets/images/product-inquiry.svg" alt="상품문의" />
      <img
        src="/src/assets/images/inquiry-button.svg"
        alt="문의버튼"
        onclick="openInquiryPopup();"
        style="cursor: pointer"
      />
      <script>
        function openInquiryPopup() {
          const popup = window.open(
            '/src/pages/productDetail/inquiry.html',
            'inquiryPopup',
            'width=800,height=700'
          );
          popup.focus();
        }
      </script>
    </div>
    <div class="product-inquiry-detail">
      <div class="table-header">
        <div class="header-title">
          <p>제목</p>
        </div>
        <div class="header-author">
          <p>작성자</p>
        </div>
        <div class="header-date">
          <p>작성일</p>
        </div>
        <div class="space"></div>
        <div class="header-status">
          <p>답변상태</p>
        </div>
        <div class="space"></div>
      </div>
      <div class="Table-Title">
        <h2 class="title">
          [공지] 판매(일시)중단 제품 안내 (24.07.24 업데이트)
        </h2>
        <p class="author">칼리</p>
        <p class="date">2024. 07. 24</p>
        <p class="await">-</p>
      </div>
      <table-sell
        title="팩이 터져서 왔어요"
        author="손승우"
        date="2024. 07. 18"
        isAwait="0"
        isSecret="1"
        question="스티로폼 박스도 손상되어 있어 포장이 터져 엉망이네요.<br>환불 요청합니다."
        answer="안녕하세요. 칼리입니다.<br>믿고 찾아주신 상품에 불편을 드려 정말 죄송합니다.<br><br>더불어, 해당 게시판은 실시간으로 상담이 어려워 순차적으로 답변드리고 있는 관계로 신속하게 답변 드리지 못하여 대단히 죄송합니다.<br><br>다행히도 고객님의 불편하셨던 사항은 고객행복센터를 통해 안내 받으신 점 확인하였습니다.<br><br>불편을 드려 정말 죄송할 따름이며, 고객님께 늘 신선하고 최상의 상품을 불편 없이 전달드리기 위해 최선을 다하는 칼리가 되겠습니다.<br><br>칼리 드림."
        answerDate="2024. 07. 19"
      ></table-sell>
      <table-sell
        title="a"
        author="김데레사"
        date="2024. 07. 01"
        isAwait="1"
        isSecret="0"
        question="asdf"
        answer="asdf"
        answerDate="asdf"
      ></table-sell>
      <table-sell
        title="음식이 상했어요"
        author="송아지"
        date="2024. 06. 28"
        isAwait="0"
        isSecret="1"
        question="asdf"
        answer="asdf"
        answerDate="2024. 06. 29"
      ></table-sell>
      <table-sell
        title="a"
        author="턱시도"
        date="2024. 07. 19"
        isAwait="0"
        isSecret="0"
        question="asdf"
        answer="asdf"
        answerDate="asdf"
      ></table-sell>
      <table-sell
        title="a"
        author="카프탄"
        date="2024. 07. 19"
        isAwait="0"
        isSecret="0"
        question="asdf"
        answer="asdf"
        answerDate="asdf"
      ></table-sell>
      <table-sell
        title="a"
        author="점프슈트"
        date="2024. 07. 19"
        isAwait="0"
        isSecret="0"
        question="asdf"
        answer="asdf"
        answerDate="asdf"
      ></table-sell>

      <img
        src="/src/assets/images/review-pagenation.svg"
        alt="상품문의 페이지버튼"
        class="clickable"
      />
    </div>

    <footer>
      <footer-component></footer-component>
    </footer>
  </body>
</html>
